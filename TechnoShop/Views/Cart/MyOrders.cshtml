@model CombinedOrderResponceViewModel
@{

}




<div>
    @foreach (var order in Model.Orders)
    {
        var finalTotalAmount = 0d;

        <div class="table-responsive" style="margin-left: 24px;margin-right: 24px;">
            <table class="table table-striped table-hover table-dark">
                <thead>
                    <tr class="text-center">
                        <th style="border-top-left-radius: 20px;">Наименование товара</th>
                        <th style="text-align: left;">Тип товара</th>
                        <th style="text-align: left;">Cтоимость</th>
                        <th style="text-align: left;">Кол-во</th>
                        <th style="border-top-right-radius: 20px;text-align: left;"><strong>Итоговая стоимость</strong><br /></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var product in order.Products)
                    {
                        var totalAmount = product.ProductCount * product.Cost;
                        finalTotalAmount += totalAmount;
                        <tr>
                            <td style="color: #ffffff;font-size: 16px;">@product.Name</td>
                            <td style="color: #ffffff;font-size: 16px;">@product.ProductTypeName</td>
                            <td style="color: #ffffff;font-size: 16px;">@product.Cost $</td>
                            <td style="font-size: 16px;color: #ffffff;">@product.ProductCount</td>
                            <td style="font-size: 16px;color: #ffffff;">@totalAmount $</td>
                        </tr>

                    }
                </tbody>
                <tfoot>
                    <tr>
                        <td style="border-bottom-left-radius: 20px;border-bottom-width: 0px;text-align: center;">
                            <a class="btn btn-primary btn-sm" role="button" href="/Cart/MyCart" style="margin: 5px;font-size: 17px;font-weight: bold;background: #ff7d54;border-width: 0px;border-radius: 12px;box-shadow: 2px 2px 3px rgba(0,0,0,0.4);color: rgb(0,0,0);">
                                Cancel order 
                                <svg class="bi bi-file-earmark-x-fill" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" style="margin-bottom: 5px;">
                                    <path d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM6.854 7.146 8 8.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 9l1.147 1.146a.5.5 0 0 1-.708.708L8 9.707l-1.146 1.147a.5.5 0 0 1-.708-.708L7.293 9 6.146 7.854a.5.5 0 1 1 .708-.708z"></path>
                                </svg>
                            </a>
                        </td>
                        <td style="border-bottom-width: 0px;font-size: 19px;font-weight: bold;" colspan="2">Заказ №INSERTIDFUNC</td>
                        @switch (order.OrderStatus)
                        {
                            case OrderStatusEnum.Processing_State:
                                <td style="border-bottom-width: 0px;font-size: 18px;font-weight: bold;color: rgb(51,255,0);" colspan="1">В процессе обработки</td>
                                break;

                            case OrderStatusEnum.Confirmed:
                                break;

                            case OrderStatusEnum.Ready_to_go:
                                break;

                            case OrderStatusEnum.Finished_Sucessfully:
                                break;

                            case OrderStatusEnum.Canceled_By_Manager:
                                break;

                            case OrderStatusEnum.Canceled_By_User:
                                break;

                            default:
                                <td style="border-bottom-width: 0px;font-size: 18px;font-weight: bold;color: rgb(255,0,0);" colspan="1">Не в процессе обработки</td>
                                break;
                        }

                        <td style="text-align: center;font-size: 20px;color: var(--bs-table-color);font-weight: bold;border-bottom-right-radius: 20px;border-bottom-width: 0px;">Итого: @finalTotalAmount $</td>
                    </tr>
                </tfoot>
            </table>
        </div>
    }
</div>